---
layout:     post
title:      2018-10-08-基于深度学习的三维点云识别
subtitle:   三维物体识别学习笔记
date:       2018-10-08
author:     BY kylin
header-img: img/post-bg-cook.jpg
catalog: true
tags:
    - 点云
    - 物体识别
    - 三维深度学习
---

# 基于深度学习的三维点云识别

## 一、什么是三维物体识别

​       随着三维成像技术的发展，结构光测量、激光扫描、ToF等技术趋于成熟，物体表面的三维坐标能够精准而快速的获取，从而生成场景的点云数据。点云数据包含了场景的深度信息，能够表示物体的表面形状，同时获取方法便捷，具有稀疏性，有很高的研究价值。

​       然而，与二维图像中像素的规则排列方式不同，点云数据是无序的 ，这使得它很难直接应用卷积来获取三维点之间的局部相关性信息。同时，由于采集方法的原因，点云数据常常是非均匀分布的，不同局部区域的点云密度常常不等，这会为特征提取时，数据点的采样带来困难。此外，三维空间中物体的形变较二维图像更为复杂，除三个维度的仿射变换外，还有非刚体形变需要考虑。

## 二、三维物体识别方法

​	按照特征提取方式分类，三维物体识别方法可以分为基于手动设计提取特征的方法和基于深度学习的方法两种。其中，手动设计特征的方法较为成熟，在一些领域有所应用。而基于深度学习的方法是近年来的研究热点。

### 1. 基于手动提取特征的方法

​	此类方法从三维点的几何属性、形状属性、结构属性等方面提取三维空间特征，统计关键点局部邻域的空间分布信息，计算空间分布直方图，得到特征向量等描述子，输入SVM等分类器，或使用条件随机场等得到匹配结果。

​	根据特征的构造角度又可进行细分，其中，基于局部特征的方法主要提取物体的关键点、边缘或面片，或关键点的法向量、曲率等微分几何信息。基于全局特征的物体识别方法则需要先将目标从背景中分割出来，再计算法线夹角等几何信息来构建描述符。此外，还有基于图匹配的方法，其思想是将点云数据分解成基本形状，使用抽象点进行表示，再构造拓扑图表示形状之间的邻近关系，使用图匹配的方法进行识别。

​	现今基于手动提取特征的方法已经比较成熟，如HKS、FPFH等。然而，手动提取的特征仅从曲率、法方向等有限角度提取特征，而无法完全利用三维点云的全部信息。这些特征仅对某种特定的变换存在不变性，因此，此类方法所能达到的精度存在瓶颈，相较之下，基于深度学习方法更能全面利用三维点云的特征信息，拥有更大的研究前景。

### 2.基于深度学习的方法

​	对于二维图片的识别任务来说，卷积神经网络是最主要的解决方法。不同大小的卷积核可以自动提取像素的局部相关性特征，从而达到很高的识别精度，卷积操作的权值共享特性也大大减少了网络优化参数。然而，图像中的像素是规则排列的，这为使用卷积创造提供了先决条件。

![1538981787848](C:\Users\kylin\AppData\Local\Temp\1538981787848.png)

​	然而点云数据并非是在空间中规则排列的。如图所示，图1为二维图像的像素单，四个点有序排列在图片中，自然保留着空间结构信息。而对于图2~图3的点云数据，卷积算子的输入是一串点集，存在以下两种情况：

- 四个点分布于不同空间位置，相同次序输入。如图2和图3。对其特征做卷积，得到的结果(f2,f3)相同。因为每个点自有的特征与空间位置无关，此时，丢失了局部各店的结构相关信息。

- 四个点分布于同一空间位置，不同次序输入。如图3和图4。对其特征做卷积，得到的结果(f2,f4)不同。

  

​	这说明，图像中点的位置信息隐含在其排列次序中，而点云数据显示的以坐标存储，没有统一的排序规则，直接卷积会丢失点云的形状信息，并且卷积结果对点的顺序敏感，因此难以直接应用卷积操作。目前有几种点云的处理方法解决这个问题。

#### 2.1直接处理点云的的方法

​	无法对点云直接使用卷积的根本原因是点云数据的无序性，对点云数据进行排序再卷积，则是一种很直观的解决方案。然而随着点云中数据点的增多，其全排列的数目会爆炸式增长，带来了极大的计算负担，激光雷达获取的点云数据量更大，更难直接应用。此外，如何在排序的同时，设定点的权值以保留形状信息也是一个需要考虑的问题。当前沿袭这种思想的主要方法有山东大学在2018年提出的PointCNN，其主要思想是通过深度网络学习一个置换矩阵，对输入数据进行排序和加权。

​	另一种思路是提取点云数据中与点序列无关的信息，以这种对于顺序不敏感的特征进行匹配。斯坦福大学提出的PointNet系列的方法即沿用了这个思路，他们提出了对称函数的思想，使用对称函数对特征点提取顺序无关的信息，来近似点云的全局信息，并在PointNet++中提出了层级结构，使其架构能够提取点云的局部相关性特征，并适应不同的局部点密度。

#### 2.2基于voxel的方法

​	基于voxel的方法试图在三维数据上直接使用卷积。这种方法试图将不规则分布的点云转换为规则分布的voxel。voxel是将点云空间规则划分所得的单位，每一个voxel含有子空间中的多个点。以voxel为基本单位，使用3D-CNN进行特征提取。

​	这种方法保留了点的空间位置信息，但是由于点云数据量和3D-CNN的固有计算量，此方法通常开销很大。同时，点云数据在转化为voxel表示后，往往是稀疏分布的，很多voxel并没有包含三维点，带来了很多不必要的计算开销。因此，如何将稀疏voxel转化为密集向量，并提供可GPU加速的计算方法，是这种思路面临的主要挑战。FPNN和Vote3D提出了一些方法处理稀疏问题，但仍是在稀疏voxel上进行操作。苹果公司提出的VoxelNet在这方面做出了一些尝试，提出了端到端的高效方案，取得了较好的结果。

#### 2.3序列化方法

​	同时还有类似RNN的序列化解决思路，具体是，将一个点集当做序列进行处理。然而这种方法需要对输入数据进行输入增强，获得其所有排列的序列，依然存在很大的计算开销。

####2.4Multiview-image方法

​	

三、直接应用点云数据的识别方法

1.PointNet

2.PointNet++

3.PointCnn
